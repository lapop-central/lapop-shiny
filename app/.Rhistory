"jc13",
"jc15a",
"jc16a",
"l1",
"l1b",
"leng1",
"lib1",
"lib2c",
"m1",
"mil10a",
"mil10e",
"np1",
"ocup1a",
"ocup4a",
"pn4",
"pol1",
"prot3",
"q1",
"q10a",
"q10e",
"q10new",
"q11n",
"q12",
"q12bn",
"q12c",
"q14",
"q2",
"q3cn",
"q5a",
"q5b",
"r1",
"r12",
"r14",
"r15",
"r16",
"r18",
"r3",
"r4",
"r4a",
"r5",
"r6",
"r7",
"r8",
"redist1",
"redist2",
"redist2a",
"redist3",
"ros4",
"sd2new2",
"sd3new2",
"sd6new2",
"smedia1",
"smedia4",
"smedia7",
"soct2",
"ur",
"vb10",
"vb2",
"vb20",
"vb50",
"vb51",
"vb52",
"vic1ext",
"vic1exta",
"w14a",
"wf1",
"year"
)
measure.df <-
total_long_common_narrow %>% # Include only measures (cols with recode)
filter(
column_name %in% measures
) %>%
pivot_wider(
id_cols = c(person_id, country,weight1500),
names_from = column_name,
values_from = answer_measure
) %>% rename_at(measures, ~ paste0(.,"_m"))
dimension.df <-
total_long_common_narrow %>% # Include only dimensions (cols with label or no recode )
filter(
column_name %in% dimensions
) %>%
pivot_wider(
id_cols = c(person_id, country,weight1500),
names_from = column_name,
values_from = answer_dimension
) %>% rename_at(dimensions, ~ paste0(.,"_d"))
measure.label.df <-
total_long_common_narrow %>% # Include only measures (cols with recode)
filter(
column_name %in% measures
) %>%
pivot_wider(
id_cols = c(person_id, country,weight1500),
names_from = column_name,
values_from = answer_dimension
) %>% rename_at(measures, ~ paste0(.,"_l"))
dimension.order.df <-
total_long_common_narrow %>% # Include only dimensions (cols with label or no recode )
filter(
column_name %in% dimensions
) %>%
pivot_wider(
id_cols = c(person_id, country,weight1500),
names_from = column_name,
values_from = answer_measure
) %>% rename_at(dimensions, ~ paste0(.,"_o"))
final_wide <- measure.df %>%
left_join(dimension.df, by = c("person_id", "country",'weight1500')) %>%
left_join(measure.label.df, by = c("person_id", "country",'weight1500')) %>%
left_join(dimension.order.df, by = c("person_id", "country",'weight1500'))
#tableau 2021.4 was not adequately recognizing slashes, just using year_o
final_wide$year_d <- final_wide$year_o
#manually change weights from Haiti 2012, which are messed up in the data files
# final_wide$weight1500[final_wide$country == "Haití" & final_wide$year_o == 2012] <- final_wide$weight1500[final_wide$country == "Haití" & final_wide$year_o == 2012] / (1557.148/1500)
# final_wide$weight1500[final_wide$country == "Haiti" & final_wide$year_o == 2012] <- final_wide$weight1500[final_wide$country == "Haiti" & final_wide$year_o == 2012] / (1557.148/1500)
table(final_wide$year_d)
# write_csv(final_wide, "lapop_wide_en_v2.csv", na = "NULL ")
write_csv(final_wide, paste0("lapop_wide_", lang,"_v5.csv"), na = "NULL ")
library(lapop)
library(ggplot2)
lapop_fonts()
library(shiny)
runApp("~/shinyapp")
runApp("C:/Users/plutowl/Documents/GitHub/lapop-shiny/shinyapp")
runApp('Documents/GitHub/lapop-shiny')
runApp('Documents/GitHub/lapop-shiny')
mpgData <- mtcars
mpgData
mpgData$am <- factor(mpgData$am, labels = c("Automatic", "Manual"))
mpgData
runApp('Documents/GitHub/lapop-shiny')
runApp('Documents/GitHub/lapop-shiny')
runApp('Documents/GitHub/lapop-shiny/app')
mpgData <- readstata13::read.dta13("C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/Core_Regional/Data Processing/GM/Grand Merge 2004-2023 LAPOP AmericasBarometer (v1.0s).dta")
roxygen2::roxygenise()
x <- list(
b = c('uno', 'dos', 'tres')
)
x[a] <- c(1, 2, 3)
x[[a]] <- c(1, 2, 3)
x <- list(
b = c('uno', 'dos', 'tres')
)
x[[a]] <- c(1, 2, 3)
x$a <- c(1, 2, 3)
x
?aggregate
iris %>%
aggregate(Petal.Length ~ Species, data = iris, mean)
library(dplyr)
iris %>%
aggregate(Petal.Length ~ Species, data = iris, mean)
iris %>%
aggregate(Petal.Length ~ Species, mean)
library(testthat)
x <- c(3, 8, 4, 6, 4)
m <- mean(x)
expect_equal(m, 5)
expect_equal
expect_equal(m, 5)
test_that(m, 5)
is_equal(m, 5)
assert_equal(m, 5)
library(testthat)
assert_equal(m, 5)
expect_equal(m, 5)
expect_equal(m, 4)
library(tidyverse)
lengths <- c(7, NA, 4, 4, 1, NA, 10, 8)
lengths %>%
mean(lengths, na.rm= TRUE)
lengths %>%
mean(na.rm= TRUE)
x<- c(1, 2, 3)
names(x) <- c("one", "two", "three")
x
values <- list(
A = c(1, 2, 3),
B = c(7, 3, 4, 4)
)
x = seq_along(10)
x
x = numeric(10)
x
install.packages('RStata')
library(RStata)
stata('di "hello world"')
stata('di "hello world"')
options("RStata.StataPath" = "C:\Program Files\Stata17")
options("RStata.StataPath" = "C:/Program Files/Stata17")
options("RStata.StataVersion" = 17)
stata('di "hello world"')
stata('di "hello world"')
options("RStata.StataPath" = "C:/Program Files/Stata17/StataSE-64")
stata('di "hello world"')
options("RStata.StataPath" = "C:/Program Files/Stata17/StataSE-64/")
options("RStata.StataVersion" = 17)
stata('di "hello world"')
chooseStataBin()
options("RStata.StataVersion" = 17)
stata('di "hello world"')
stata('di "hello world"')
options("RStata.StataVersion" = 17)
stata('di "hello world"')
stata(cd "C:\Users\plutowl\Box\LAPOP Shared\2_Projects\2023 AB\BHS\Reports\Country Report\Ch.3 - Gender\CSVs")
stata('cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"')
stata_cmd <- "
cd 'C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs'
"
stata(stata_cmd)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"'
stata_cmd
stata(stata_cmd)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
'
stata(stata_cmd)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
svy: tab vb50
'
stata(stata_cmd)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
svy: tab vb50
lpr_cc vb50 pais, num(1 2)
'
stata(stata_cmd)
stata(stata_cmd)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_ts dvw1 year, num(1 2)
'
stata(stata_cmd)
?stata
x = stata(stata_cmd, data.out = TRUE)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_ts dvw1 year, num(1 2) filesave("dvw1_ts.csv", replace)
'
stata(stata_cmd, data.out = TRUE)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
*lpr_ts dvw1 year, num(1 2)
'
x = stata(stata_cmd, data.out = TRUE)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
'
x = stata(stata_cmd, data.out = TRUE)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
save
'
x = stata(stata_cmd, data.out = TRUE)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
save ts
'
x = stata(stata_cmd, data.out = TRUE)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
save ts
'
x = stata(stata_cmd)
x
head(x)
stata_cmd <- 'cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
save ts
'
x = stata(stata_cmd, data.out = TRUE)
x = stata("sysuse myauto, clear", data.out = TRUE)
x = stata("sysuse ts, clear", data.out = TRUE)
stata_cmd <- '
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
save ts
'
stata(stata_cmd)
x = stata("sysuse ts, clear", data.out = TRUE)
getwd()
stata('di "hello world"')
cd "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Reports/Country Report/Ch.3 - Gender/CSVs"
stata_cmd <- '
frame create ts
frame change ts
use "C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_ts dvw1 year, num(1 2) filesave("C:/Users/plutowl/Desktop/x.csv", replace)'
stata(stata_cmd)
library(shiny)
# Define UI for miles per gallon app ----
# Define UI for miles per gallon app ----
ui <- fluidPage(
# App title ----
titlePanel("LAPOP Data"),
# Sidebar layout with input and output definitions ----
sidebarLayout(
# Sidebar panel for inputs ----
sidebarPanel(
# Input: Selector for variable to plot against mpg ----
selectInput("variable", "Variable:",
c("Support for Democracy" = "ing4",
"Crime Victimization" = "vic1ext")),
# Input: Checkbox for whether outliers should be included ----
checkboxInput("weighted", "Weighted", TRUE)
),
# Main panel for displaying outputs ----
mainPanel(
# Output: Formatted text for caption ----
h3(textOutput("caption")),
# Output: Plot of the requested variable against mpg ----
plotOutput("hist"),
plotOutput("ts")
)
)
)
library(lapop)
setwd("C:/Users/plutowl/Documents/GitHub/lapop-shiny")
runApp('app')
runApp('app')
runApp('app')
var <- "dvw"
stata_cmd <- paste0('lpr_hist' var, 'filesave("hist.csv", replace)',
stata_cmd <- paste0('lpr_hist' var, 'filesave("hist.csv", replace)',
stata_cmd <- paste0("lpr_hist" var, 'filesave("hist.csv", replace)',
stata_cmd <- paste0("lpr_hist", var, 'filesave("hist.csv", replace)',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace', sep = " ")
stata_cmd
stata_cmd <- paste0("lpr_hist", var, 'filesave("hist.csv", replace)', sep = " ",
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace', sep = " ")
stata_cmd
stata_cmd <- paste("lpr_hist", var, 'filesave("hist.csv", replace)', sep = " ",
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd <- paste("lpr_hist", var, 'filesave("hist.csv", replace)',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd
stata_cmd <- paste("lpr_hist", var, 'filesave('hist.csv', replace)',
stata_cmd
stata_cmd <- paste("lpr_hist", var, 'filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata(stata_cmd)
var <- "dvw1"
stata_cmd <- paste("lpr_hist", var, 'filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd
stata_cmd
setwd("C:/Users/plutowl/Desktop")
stata_cmd <- paste("lpr_hist", var, 'filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd
stata(stata_cmd)
stata_cmd <- paste("lpr_hist", var, ', filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd
stata(stata_cmd)
stata_cmd <- paste("use 'C:\Users\plutowl\Box\LAPOP Shared\2_Projects\2023 AB\Core_Regional\Data Processing\YM\Merge 2023 LAPOP AmericasBarometer (v1.0s).dta', clear
stata_cmd <- paste("use 'C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/Core_Regional/Data Processing/YM/Merge 2023 LAPOP AmericasBarometer (v1.0s).dta', clear
lpr_hist", var, ', filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd
stata(stata_cmd)
stata_cmd <- paste("use 'C:\Users\plutowl\Box/LAPOP Shared/2_Projects/2023 AB/Core_Regional/Data Processing/YM/Merge 2023 LAPOP AmericasBarometer (v1.0s).dta', clear
gm <- readstata13::read.dta13("C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/Core_Regional/Data Processing/YM/Merge 2023 LAPOP AmericasBarometer (v1.0s).dta", convert.factors = FALSE)
gm
table(gm$dvw1)
table(gm$dvw1)
gm <- readstata13::read.dta13("C:/Users/plutowl/Box/LAPOP Shared/2_Projects/2023 AB/BHS/Data Processing/BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", convert.factors = FALSE)
table(gm$dvw1)
stata_cmd <- paste("lpr_hist", var, ', filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd
stata(stata_cmd)
stata(stata_cmd, data.in = gm)
stata_cmd <- 'lpr_hist dvw1, filesave("hist.csv", replace)'
stata(stata_cmd, data.in = gm)
stata_cmd <- '
use "C:\Users\plutowl\Box\LAPOP Shared\2_Projects\2023 AB\BHS\Data Processing\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
stata_cmd <- '
use "C:\Users\plutowl\Box\LAPOP Shared\2_Projects\2023 AB\BHS\Data Processing\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
stata_cmd <- '
use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_hist dvw1, filesave("hist.csv", replace)
'
stata(stata_cmd)
stata_cmd <- '
use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_hist dvw1, filesave("hist.csv", replace)
lpr_ts dvw1 wave, num(1 2) filesave("ts.csv", replace)
'
stata(stata_cmd)
stata_cmd <- '
use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_hist dvw1, filesave("hist.csv", replace)
lpr_ts dvw1 wave, num(1 2) filesave("ts.csv", replace)
'
stata(stata_cmd)
stata_cmd2 <- paste0("lpr_hist", var, ', filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd2
stata_cmd
stata_cmd2 <- paste("lpr_hist", var, ', filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd2
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear',
"lpr_hist", var, ', filesave("hist.csv", replace)\n',
'lpr_ts', var, 'wave, num(1 2) filesave("ts.csv", replace)', sep = " ")
stata_cmd2
stata_cmd
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear ',
"lpr_hist ", var, ', filesave("hist.csv", replace)\n',
'lpr_ts ', var, ' wave, num(1 2) filesave("ts.csv", replace)')
stata_cmd2
stata_cmd <- '
use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_hist dvw1, filesave("hist.csv", replace)
lpr_ts dvw1 wave, num(1 2) filesave("ts.csv", replace)
'
stata_cmd
stata(stata_cmd)
stata(stata_cmd2)
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear\n',
"lpr_hist ", var, ', filesave("hist.csv", replace) \n',
'lpr_ts ', var, ' wave, num(1 2) filesave("ts.csv", replace)')
stata(stata_cmd2)
stata(stata_cmd2)
num <- 1:num_max
num_max <- 3
num <- 1:num_max
num
var <- "dvw1"
num_max <- 2
num <- 1:num_max
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear\n',
"lpr_hist ", var, ', filesave("hist.csv", replace) \n',
'lpr_ts ', var, ' wave, num(', num, ') filesave("ts.csv", replace)')
stata_cmd2
num
num <- paste(1:num_max)
num
num <- as.character(1:num_max)
num
num <- paste(1:num_max)
num
num <- paste0(1:num_max)
num
num <- paste0("1", num_max)
num
num <- paste0("1", num_max, sep = " ")
num
num <- paste0("1 ", num_max,)
num <- paste0("1 ", num_max)
num
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear\n',
"lpr_hist ", var, ', filesave("hist.csv", replace) \n',
'lpr_ts ', var, ' wave, num(', num, ') filesave("ts.csv", replace)')
stata_cmd2
stata_cmd <- '
use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear
lpr_hist dvw1, filesave("hist.csv", replace)
lpr_ts dvw1 wave, num(1 2) filesave("ts.csv", replace)
'
stata_cmd
stata(stata_cmd2)
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear\n',
"lpr_hist ", var, ', filesave("hist.csv", replace) \n',
'lpr_ts ', var, ' wave, num(', num, ') filesave("ts.csv", replace)')
x = stata("sysuse ts, clear", data.out = TRUE)
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear\n',
"lpr_hist ", var, ', filesave("hist.csv", replace) \n',
'lpr_ts ', var, ' wave, num(', num, ') filesave("ts.csv", replace)')
stata(stata_cmd2)
num <- 1:num_max
num_max <- 2
num <- paste(1:num_max,collapse=" ")
num
stata_cmd2 <- paste('use "C:\\Users\\plutowl\\Box\\LAPOP Shared\\2_Projects\\2023 AB\\BHS\\Data Processing\\BHS merge 2014-2023 LAPOP AmericasBarometer (v1.0s).dta", clear\n',
"lpr_hist ", var, ', filesave("hist.csv", replace) \n',
'lpr_ts ', var, ' wave, num(', num, ') filesave("ts.csv", replace)')
stata(stata_cmd2)
vic1ext_ts <- read.csv("ts.csv")
ts <- read.csv("ts.csv")
ts
lapop_ts(ts)
hist <- read.csv("hist.csv")
lapop_hist(hist)
runApp('~/Documents/GitHub/lapop-shiny/app')
runApp('~/Documents/GitHub/lapop-shiny/app')
